@using MatkakertomusGroupB.Shared.Models;
@inject HttpClient Http
@inject ILogger<NicknameDisplay> logger

<span>@user</span>

@code {
	[Parameter]
	public string userName { get; set; }

	public UserDTO? userNickDTO = new UserDTO();
	public UserDTO? userNickDTO2 = new UserDTO();
	public string? user = null;

	protected override async Task OnInitializedAsync()
	{
		userNickDTO.Username = userName;
		//Fetch user data from API
		var response = await Http.PostAsJsonAsync<UserDTO>($"/api/traveller/nick", userNickDTO);
		//Parse user data from API
		userNickDTO = await response.Content.ReadFromJsonAsync<UserDTO>();
		user = userNickDTO.Nickname;
	}
}
